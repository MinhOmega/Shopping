<!-- Start Banner Area -->
<section class="banner-area organic-breadcrumb">
    <div class="container">
        <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
            <div class="col-first">
                <h1>Order History</h1>
                <nav class="d-flex align-items-center">
                    <a routerLink="/client/index">Home<span class="lnr lnr-arrow-right"></span></a>
                    <a href="javascript:void(0)">Order History</a>
                </nav>
            </div>
        </div>
    </div>
</section>
<!-- End Banner Area -->
<ng-container *ngIf="orderHistory">
    <ng-container *ngIf="isViewOrderInfo == false; else orderDetailInformation">
        <section class="cart_area">
            <div class="container">
                <div class="cart_inner">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Id</th>
                                    <th scope="col">Time</th>
                                    <th scope="col">Total Price</th>
                                    <th scope="col">Delivery Status</th>
                                    <th scope="col">Payment Status</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of orderHistory">
                                    <tr>
                                        <td>
                                            <span>{{item.id}}</span>
                                        </td>
                                        <td>
                                            <span>{{item.date}}</span>
                                        </td>
                                        <td>
                                            <span>{{item.totalPrice | number}}</span>
                                        </td>
                                        <td>
                                            <span>{{item.deliveryStatus}}</span>
                                        </td>
                                        <td>
                                            <span>{{item.paymentStatus}}</span>
                                        </td>
                                        <td>
                                            <a class="genric-btn info" href="javascript:void(0);"
                                                (click)="viewOrder(item.id)">View order</a>
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </ng-container>
    <!--================Order Details Area =================-->
    <ng-template #orderDetailInformation>
        <section class="order_details section_gap">

            <div class="container">
                <a class="genric-btn info mb-4" href="javascript:void(0);" (click)="isViewOrderInfo = false">Back to history</a>
                <div class="row order_d_inner">
                    <div class="col-lg-6">
                        <div class="details_item">
                            <h4>Order Info</h4>
                            <ul class="list">
                                <li><a href="#"><span>Order number</span> : {{selectedOrder.id}}</a></li>
                                <li><a href="#"><span>Date</span> : {{selectedOrder.date}}</a></li>
                                <li><a href="#"><span>Total</span> : {{selectedOrder.totalPrice | number}}</a></li>
                                <li><a href="#"><span>Payment method</span> : {{selectedOrder.paymentMethod}}</a></li>
                                <li><a href="#"><span>Payment status</span> : {{selectedOrder.paymentStatus}}</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="details_item">
                            <h4>Delivery Info</h4>
                            <ul class="list">
                                <li><a href="#"><span>Name</span> : {{selectedOrder.name}}</a></li>
                                <li><a href="#"><span>Phone number</span> : {{selectedOrder.phoneNumber}}</a></li>
                                <li><a href="#"><span>Address</span> : {{selectedOrder.address}}</a></li>
                                <li><a href="#"><span>Delivery status</span> : {{selectedOrder.deliveryStatus}}</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                    <div class="order_box">
                        <h2>Order Details</h2>
                        <ul class="list">
                            <div class="progress-table">
                                <div class="table-head">
                                    <div class="serial" style="width: 10% !important;">#</div>
                                    <div class="percentage" style="width: 40% !important;">Name</div>
                                    <div class="percentage" style="width: 15% !important;">Price</div>
                                    <div class="percentage" style="width: 15% !important;">Quantity</div>
                                    <div class="percentage" style="width: 20% !important;">Subtotal</div>
                                </div>
                                <ng-container *ngFor="let item of orderInfomation; index as index">
                                    <div class="table-row">
                                        <div class="serial" style="width: 10% !important;">{{index+1}}</div>
                                        <div class="percentage" style="width: 40% !important;">
                                            <ng-container *ngIf="item.clientProductInfo.image; else noImage">
                                                <img style="height: 100px; width: 100px;" [src]="url + item.clientProductInfo.image"
                                                alt="">
                                            </ng-container>
                                            <ng-template #noImage>
                                               <img style="height: 100px; width: 100px;" 
                                                        src="assets/no_image.jpg">
                                            </ng-template>
                                            <!-- <img style="height: 100px; width: 100px;" [src]="url + item.clientProductInfo.image"
                                                alt=""> -->
                                            <div class="ml-2">
                                                <h4> {{item.clientProductInfo.name}}</h4>
                                                <ng-container *ngIf="item.attribute!=null">
                                                        <span>{{item.attribute}}</span>
                                                </ng-container>
                                            </div>
                                        </div>
                                        <div class="percentage" style="width: 15% !important;">
                                            {{item.price | number}}</div>
                                        <div class="percentage" style="width: 15% !important;">{{item.quantity}}
                                        </div>
                                        <div class="percentage" style="width: 20% !important;">
                                            {{item.subPrice | number}}
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </ul>
                        <ul class="list list_2">
                            <li><a href="#">Total <span>{{selectedOrder.totalPrice | number}}</span></a></li>
                        </ul>
                    </div>
                </div>
        </section>
    </ng-template>
    <!--================End Order Details Area =================-->
</ng-container>